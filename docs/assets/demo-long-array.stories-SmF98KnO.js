import{b as f,e as v,j as A,d as e}from"./view-ohGoeIGb.js";import"./index-4g5l5LRQ.js";import"./_commonjsHelpers-4gQjN7DL.js";const i=f(n=>{var c,u;(u=(c=n.props).callCount)==null||u.call(c),console.log("DemoLongArray setup");let o=10;const t=v([]);function r(){o++,t.push(o)}function a(){t.pop()}function s(){o+=100,t.set(1,o)}function h(){t.values=[]}function L(){o++,t.add(2,o,o+1),o++}function b(){t.remove(1,2)}return l=>{var m;return(m=l.callCount)==null||m.call(l),console.log("DemoLongArray render"),A("div",{children:[e("button",{onClick:()=>t.forceUpdate(),children:"forceUpdate arr"}),e("br",{}),e("button",{"data-testid":"add",onClick:r,children:"add"}),e("button",{"data-testid":"remove",onClick:a,children:"remove"}),e("button",{"data-testid":"changeSecondItem",onClick:s,children:"change second item"}),e("button",{"data-testid":"reset",onClick:h,children:"reset"}),e("br",{}),e("button",{onClick:L,children:"add Two Items At Third"}),e("button",{onClick:b,children:"remove Two Items At Second"}),e("br",{}),t.mapItems((p,I)=>e(D,{item:p,callCount:l.itemsCallCount,disposeCallCount:l.itemsDisposeCallCount},p.key))]})}}),D=f(n=>{var o,t;return(t=(o=n.props).callCount)==null||t.call(o),console.log("LongArrayItem setup"),n.onDispose(()=>{var r,a;(a=(r=n.props).disposeCallCount)==null||a.call(r),console.log("LongArrayItem teardown")}),r=>{var a,s;return(s=(a=n.props).callCount)==null||s.call(a),console.log("LongArrayItem render"),A("button",{onClick:()=>r.item.forceUpdate(),children:["item:",r.item.value]})}});try{i.displayName="DemoLongArray",i.__docgenInfo={description:"",displayName:"DemoLongArray",props:{callCount:{defaultValue:null,description:"",name:"callCount",required:!1,type:{name:"() => void"}},itemsCallCount:{defaultValue:null,description:"",name:"itemsCallCount",required:!1,type:{name:"() => void"}},itemsDisposeCallCount:{defaultValue:null,description:"",name:"itemsDisposeCallCount",required:!1,type:{name:"() => void"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const T={title:"demo-long-array"},d={name:"DemoLongArray",render:()=>e(i,{})};var C,y,g;d.parameters={...d.parameters,docs:{...(C=d.parameters)==null?void 0:C.docs,source:{originalSource:`{
  name: 'DemoLongArray',
  render: () => <DemoLongArray />
}`,...(g=(y=d.parameters)==null?void 0:y.docs)==null?void 0:g.source}}};const V=["LongArray"];export{d as LongArray,V as __namedExportsOrder,T as default};
